<div class="admin-dashboard">
  <h2>Admin Dashboard</h2>
  <div *ngIf="loading">Loading dashboard...</div>
  <div *ngIf="error" class="error">{{ error }}</div>
  <div *ngIf="stats" class="dashboard-metrics">
    <div class="metric-card">
      <h3>Total Subscriptions</h3>
      <p>{{ stats.totalSubscriptions }}</p>
    </div>
    <div class="metric-card">
      <h3>Active Subscriptions</h3>
      <p>{{ stats.activeSubscriptions }}</p>
    </div>
    <div class="metric-card">
      <h3>Total Revenue</h3>
      <p>{{ stats.totalRevenue | currency }}</p>
    </div>
    <div class="metric-card">
      <h3>Monthly Recurring Revenue</h3>
      <p>{{ stats.monthlyRecurringRevenue | currency }}</p>
    </div>
    <div class="metric-card">
      <h3>Total Users</h3>
      <p>{{ stats.totalUsers }}</p>
    </div>
    <div class="metric-card">
      <h3>Total Providers</h3>
      <p>{{ stats.totalProviders }}</p>
    </div>
    <!-- Add more metrics or charts as needed -->
  </div>
  <div class="notifications-section">
    <h3>System Notifications</h3>
    <div *ngIf="loadingNotifications">Loading notifications...</div>
    <div *ngIf="errorNotifications" class="error">{{ errorNotifications }}</div>
    <table *ngIf="!loadingNotifications && notifications.length">
      <thead>
        <tr>
          <th>Title</th>
          <th>Message</th>
          <th>Created At</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let n of notifications">
          <td>{{ n.title }}</td>
          <td>{{ n.message }}</td>
          <td>{{ n.createdAt | date:'short' }}</td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="!loadingNotifications && !notifications.length && !errorNotifications">No notifications found.</div>
  </div>
  <div class="audit-logs-section">
    <h3>Audit Logs</h3>
    <div *ngIf="loadingAuditLogs">Loading audit logs...</div>
    <div *ngIf="errorAuditLogs" class="error">{{ errorAuditLogs }}</div>
    <table *ngIf="!loadingAuditLogs && auditLogs.length">
      <thead>
        <tr>
          <th>User ID</th>
          <th>Action</th>
          <th>Entity</th>
          <th>Entity ID</th>
          <th>Timestamp</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let log of auditLogs">
          <td>{{ log.userId }}</td>
          <td>{{ log.action }}</td>
          <td>{{ log.entity }}</td>
          <td>{{ log.entityId }}</td>
          <td>{{ log.timestamp | date:'short' }}</td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="!loadingAuditLogs && !auditLogs.length && !errorAuditLogs">No audit logs found.</div>
  </div>
</div>
