<div class="admin-dashboard">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
    <div style="display: flex; align-items: center; gap: 1rem;">
      <img *ngIf="avatarUrl" [src]="avatarUrl" alt="Avatar" style="width:40px;height:40px;border-radius:50%;object-fit:cover;border:1px solid #ccc;" />
      <div *ngIf="!avatarUrl" style="width:40px;height:40px;border-radius:50%;background:#eee;display:inline-block;"></div>
      <div *ngIf="userName || userRole" style="font-size: 1.1rem;">
        <span *ngIf="userName">Welcome, <b>{{ userName }}</b></span>
        <span *ngIf="userRole"> ({{ userRole }})</span>
      </div>
    </div>
    <div style="display: flex; gap: 1rem;">
      <button (click)="openProfileDialog()">Profile</button>
      <button (click)="logout()">Logout</button>
    </div>
  </div>
  <h1>Admin Dashboard</h1>
  <div *ngIf="loading">Loading dashboard statistics...</div>
  <div *ngIf="error" class="error">{{ error }}</div>
  <div class="dashboard-stats" *ngIf="!loading && stats">
    <div class="stat-card">
      <h2>Total Users</h2>
      <p>{{ stats.totalUsers }}</p>
    </div>
    <div class="stat-card">
      <h2>Active Subscriptions</h2>
      <p>{{ stats.activeSubscriptions }}</p>
    </div>
    <div class="stat-card">
      <h2>Revenue (This Month)</h2>
      <p>{{ stats.monthlyRecurringRevenue | currency }}</p>
    </div>
  </div>
  <div class="dashboard-links">
    <a routerLink="/admin/user-management" class="dashboard-link">Manage Users</a>
    <a routerLink="/admin/subscription-plans-management" class="dashboard-link">Manage Subscription Plans</a>
    <a routerLink="/admin/appointments-management" class="dashboard-link">Manage Appointments</a>
  </div>
</div>
